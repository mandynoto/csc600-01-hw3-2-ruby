% Use bibtex
\usepackage[sorting=nyt, sorting=none, citestyle=numeric-comp, backend=bibtex]{biblatex}
\addbibresource{ref.bib} % locates ref.bib file

\usepackage[table]{xcolor} % defines table colors
% \usepackage{biblatex} % enables bibliography
% \addbibresource{ref.bib} % locate ref.bib file

% right-align limited wrapped text
\newcolumntype{R}{>{\raggedleft\arraybackslash}m{0.25\linewidth}}
\newcolumntype{C}{>{\centering\arraybackslash}m{0.25\linewidth}}
\newcolumntype{L}{>{\raggedright\arraybackslash}m{0.25\linewidth}}

% NOTE: Breaks vimtex but works with Makefile
\usepackage[hidelinks]{hyperref} % makes links in table of contents clickable

\newcommand{\makeheading}
{
  \begin{center}
    {\Large{\asmt{}}}\\
    \medskip
    \name{}\\
    \prof{}\\
    \duedate{}\\
    \crsnum{}\\
  \end{center}
}

\usepackage{setspace} % allows double spacing
\doublespacing % enables double spacing

\usepackage{amsmath} % enables mathemtical alignment

\usepackage % specifies document dimensions
[
  top=1in,
  bottom=1in,
  right=1in,
  left=1in
]
{geometry}

\usepackage{paralist}
\usepackage{enumerate} % TODO: check paralist doesn't clash?
\usepackage{enumitem}

\usepackage{siunitx} % correctly typesets SI units

% Edit header
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[R]{\thepage} % moves page number to top right
\renewcommand{\headrulewidth}{0pt} % removes top header thickness

\usepackage{tikzpagenodes} % TODO:find out what this is needed

\usepackage{caption} % enables figure captions
\usepackage{float} % enables figures to float

% Edit caption:
\usepackage
[%
  labelsep=space, % replaces : after figure caption with an empty space
  labelfont=bf, % bolds figure caption
]{caption}

% Include image directory so there's no need to write their relative path
\graphicspath{{img/}}

% Tables
\usepackage{tabularx} % makes nice tables
\usepackage{booktabs} % for lines
\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}} % edits how stretch tables are

\providecommand\phantomsection{} % adds custom addcontentsline and to be usable without hyperref pkg
\providecommand\phantomsubsection{} % adds custom addcontentsline and to be usable without hyperref pkg

\newcommand{\addcontentssubsection}[1]
{
  \addtocounter{subsection}{1}
  \addcontentsline{toc}{subsection}{#1}
}

\newcommand{\addcontentssubsectionanswer}[1]
{
  \addtocounter{subsection}{1}
  \addcontentsline{toc}{subsection}{Answer \arabic{subsection}\phantom{aa}#1}
}

\newcommand{\addcontentssubsectiontable}[1]
{
  \addtocounter{subsection}{1}
  \addcontentsline{toc}{subsection}{Table \arabic{subsection}\phantom{aaa}#1}
}

\newcommand{\addcontentssection}[1]
{
  \addtocounter{section}{1}
  \addcontentsline{toc}{section}{\arabic{section}\phantom{aa}#1}
}

\usepackage{inconsolata} % changes font to argument
\usepackage{changepage} % adjusts table widhts
\usepackage{scrextend} % indents blocks
\setlength{\parindent}{0pt} % disables all paragraph indentation
\usepackage{syntax} % adds bnf and ebnf symbols

\usepackage{listings}
\usepackage{xcolor}
\lstset { %
  language=C++,
  % backgroundcolor=\color{black!5}, % set backgroundcolor
  basicstyle=\footnotesize,% basic font setting
}

\lstset % defines default list style
{
  tabsize = 4, %% set tab space width
  showstringspaces = false, %% prevent space marking in strings, string is defined as the text that is generally printed directly to the console
  numbers = left, %% display line numbers on the left
  commentstyle = \color{green}, %% set comment color
  keywordstyle = \color{blue}, %% set keyword color
  stringstyle = \color{red}, %% set string color
  rulecolor = \color{black}, %% set frame color to avoid being affected by text color
  basicstyle = \small \ttfamily , %% set listing font and size
  breaklines = true, %% enable line breaking
  numberstyle = \tiny,
}

% Define a custom list style for c++
\definecolor{mGreen}{rgb}{0,0.6,0}
\definecolor{mGray}{rgb}{0.5,0.5,0.5}
\definecolor{mPurple}{rgb}{0.58,0,0.82}
\definecolor{mBlue}{RGB}{62,106,230}
\definecolor{mRed}{RGB}{190,53,54}
% \definecolor{backgroundColour}{rgb}{0.95,0.95,0.92}
\lstdefinestyle{CCStyle}{
  % backgroundcolor=\color{backgroundColour},   
  language=C++,
  commentstyle=\color{mGreen},
  keywordstyle=\color{mBlue},
  numberstyle=\tiny\color{mGray},
  stringstyle=\color{mPurple},
  basicstyle=\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  linewidth=2\textwidth,
  % postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}},
  %
  belowskip=5ex,
  aboveskip=1ex,
  morekeywords={ border, buildmesh, cos, dx, dy, fespace, fill, func,
      int2d, label, mesh, on, pi, plot, problem, sin, real, x, y},
  identifierstyle=\color{blue},
}
\lstdefinestyle{CCStyleLimited}{
  % backgroundcolor=\color{backgroundColour},   
  language=C++,
  commentstyle=\color{mGreen},
  keywordstyle=\color{mBlue},
  numberstyle=\tiny\color{mGray},
  stringstyle=\color{mPurple},
  basicstyle=\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  linewidth=2\textwidth,
  % postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}},
  %
  morekeywords={ border, buildmesh, cos, dx, dy, fespace, fill, func,
      int2d, label, mesh, on, pi, plot, problem, sin, real, x, y},
  identifierstyle=\color{blue},
}

% Add page continuation indicator at bottom right of page
\usepackage{mathabx,graphicx}
\def\Circlearrowleft{\ensuremath{%
    \rotatebox[origin=c]{180}{$\circlearrowleft$}}}
\newcommand{\PleaseTurnThePage}[1][Please turn the page]
{
  \vfill% Vertical fill to go to the bottom of the page
  \hfill\normalsize #1% Right-aligned name/city
  \enspace
  $\circlearrowleft$
}
\usepackage{parskip} % Adds extra space between paragraphs

\PassOptionsToPackage{newfloat}{minted}
\usepackage{minted}
\captionsetup[listing]{position=bottom} % set position of minted caption on top
\setminted{baselinestretch=1} % control line spacing of code
\definecolor{gray(x11gray)}{rgb}{0.75, 0.75, 0.75}
\definecolor{whitesmoke}{rgb}{0.98, 0.98, 0.98}
\definecolor{lightapricot}{rgb}{0.99, 0.84, 0.69}
\definecolor{linen}{rgb}{0.98, 0.94, 0.9}
\definecolor{pearl}{rgb}{0.94, 0.92, 0.84}
\definecolor{aliceblue}{rgb}{0.94, 0.97, 1.0}
% \definecolor{almond}{rgb}{0.94, 0.87, 0.8}
\definecolor{almond}{rgb}{0.98, 0.94, 0.9}
\newenvironment{code}{\captionsetup{type=listing}}{}
\def\verbatim@font{\linespread{1}\normalfont\ttfamily}

% \newcommand{\setcaplab}[1]
% {
%   % \renewcommand{\listingcaption{#1}
%   \renewcommand{\listingscaption}{#1}
% }
\renewcommand{\thesubsection}{\thesection.\alph{subsection}}
% \renewcommand{\thesubsubsection}{\thesection.\alph{\thesubsection}}
\usepackage{parcolumns}

